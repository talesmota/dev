<!DOCTYPE html>
<html lang="en">
  <head>
      <title>Tales Mota</title>
    <meta charset="utf-8" />
        
		<meta name="description" content="List of my favorite rock radios like Absolute Classic Rock without post code" />
		<meta name="robots" content="all" />
		<meta name="author" content="Tales Mota Machado" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />
		<meta name="twitter:creator" content="@" />
		<meta name="twitter:description" content="List of my favorite rock radios like Absolute Classic Rock without post code" />
		<meta name="og:type" content="page" />
		<meta name="og:url" content="https://talesmota.dev/pages/online-radios/" />
		<meta name="og:image" content="https://assets.planetradio.co.uk/img/ConfigWebHeaderLogoImageUrl/2.png?ver=1512654391" />
		<meta name="og:description" content="List of my favorite rock radios like Absolute Classic Rock without post code" />
  

    <meta name="tags" content="Absolute Classic Rock" />
    <meta name="tags" content="Without Postcode" />
    <meta name="tags" content="Radio Rock" />
    <meta name="tags" content="Rock online" />

 <script async src="https://www.googletagmanager.com/gtag/js?id=G-348D9PE50G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-348D9PE50G');
</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5TNTJS8');</script>
<!-- End Google Tag Manager -->
    <link rel="stylesheet" href="/theme/css/main.css" />
    <link rel="stylesheet" href="/theme/css/logo.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://files.stork-search.net/basic.css" />

  <script src="https://files.stork-search.net/releases/v1.4.2/stork.js"></script>
  <link rel="apple-touch-icon" sizes="180x180"    href="/theme/css/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/theme/css/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/theme/css/images/favicon-16x16.png">
  <link rel="manifest"                            href="/theme/css/images/site.webmanifest">
  <link rel="mask-icon"                           href="/theme/css/images/safari-pinned-tab.svg" color="#5bbad5">

  <!--[if lte IE 8
      ]><script src="/theme/js/ie/html5shiv.js"></script
    ><![endif]-->
    <!--[if lte IE 8
      ]><link rel="stylesheet" href="/theme/css/ie8.css"
    /><![endif]-->
    
  </head>

  <body>
    <header id="banner" class="body">
      <div class="logo-div">
        <h1>
          <span class="brackets">{</span>
          <span class="letters">tm</span>  
          <span class="brackets">}</span>
        </h1>
      </div>

    </header>
    <!-- /#banner -->
    <!-- Sidebar -->
<button id="menubtn" class="menu" aria-controls="sidebar">
  <span class="sr-only">Menu</span>
  <i class="fa fa-bars" aria-hidden="true" style="display: flex;align-content: center;justify-content: center;"></i>
</button>
<div id="sidebar">
  <div class="menu-content">
    <!-- Logo -->
    <h1 id="logo" class="logo-div">
      <a href="/">
        <h1 id="nohover">
          <span class="brackets">{</span>
          <span class="letters">tm</span>
          <span class="brackets">}</span>
        </h1>
        <h1 id="hover" class="noactive" style="position: relative">
          <span class="brackets">{</span>
          <span class="letters">tales</span>
          <span class="letters">mota</span>
          <span class="brackets">}</span>
        </h1>
      </a>
    </h1>
    <!-- Text -->
    <div class="search">
      <header style="margin-top: 20px">
        <label for="sitesearch">
          Search
        </label>
        <input id="sitesearch" data-stork="sitesearch"/>
        <div data-stork="sitesearch-output"></div>
      </header>
    </div>
    <!-- Nav -->
    <nav id="nav">
      <header>
        <h2>Categories</h2>
      </header>
      <ul>
      </ul>
      <hr class="menu_separator" />
        <ul>
          <li class="active"><a href="../../pages/online-radios/">Online Radios</a></li>
        </ul>
    </nav>

    <!-- Search -->
    <!-- <section class="box search">
                          <form method="post" action="#">
                              <input type="text" class="text" name="search" placeholder="Search" />
                          </form>
                      </section> -->

    <!-- Recent Posts -->
    <section class="box recent-posts">
      <header>
        <h2>Contact Me</h2>
      </header>
      <ul class="contact">
        <li>
          <a
            class="icon fa-linkedin"
            href="https://www.linkedin.com/in/tales-mota-machado-msc-0156aa50/"
          >
            <span>LinkedIn</span>
          </a>
        </li>
        <li>
          <a
            class="icon fa-github"
            href="https://github.com/talesmota"
            target="_blank"
          >
            <span>Github</span>
          </a>
        </li>
      </ul>
    </section>
  </div>
</div>

<script>
  var button = document.querySelector("#menubtn");
  var menu = document.querySelector("#sidebar");
  function toggleNav(nav, navContent) {
    var navEle = document.querySelector(nav);
    var navContent = document.querySelector(navContent);
    if (!navEle) return;

    if (!navEle.classList.contains("open")) {
      navEle.setAttribute("class", "open");
      setTimeout(() => navContent.classList.add("open"), 300);
      return;
    }
    navEle.removeAttribute("class");
    navContent.classList.remove("open");
  }
  button.addEventListener(
    "click",
    () => toggleNav("#sidebar", ".menu-content"),
    false
  );

  let hover = document.querySelector("#logo a");
  const logoToggle = () => {
    let active = document.querySelector("#hover");
    let noactive = document.querySelector("#nohover");
    if (noactive.classList.contains("noactive")) {
      active.classList.add("noactive");
      noactive.classList.remove("noactive");
    } else {
      noactive.classList.add("noactive");
      active.classList.remove("noactive");
    }
  };
  hover.addEventListener("mouseenter", logoToggle, false);
  hover.addEventListener("mouseleave", logoToggle, false);
</script>    <!-- /#menu -->
    <h1>Online Radios</h1>
    
	<main>
		
    <style>
            .hidden{
                display: none;
            }
            .show{
                display: flex;
            }
            .player_thumb img{
                width: 113px; height: auto; 
            }
        </style>
        <div id="content">

            <h2>Absolut Classic Rock</h2>
            <button id="absoluteButton" class="stop"> Play </button>

            <div id="absolutePlayer" class="hidden">
                <div class="player_thumb">
                    <img id="playerThumb" src="https://assets.planetradio.co.uk/artist/1-1/160x160/1579.jpg?ver=1465084026" alt="Jimi Hendrix">
                </div>
                <div style="margin-left: 20px;">
                    <h3 id="playerAuthor">Jimi Hendrix</h3>
                    <h4 id="playerMusic">Little Wing</h4>
                </div>
            </div>
            <div style="display: none;">
                <audio id="absoluteClassicRock" controls>
                    <source src="null" />
                </audio>
            </div>
        </div>

        <script>
            var absoluteButton = document.querySelector("#absoluteButton");
            let timeToGetAnotherMeta = 0;
            function getMetaData( playerButton ) {
                // const url = "https://thingproxy.freeboard.io/fetch/https://listenapi.planetradio.co.uk/api9.2/initdadi/absolute-classic-rock";
                const url = 'https://api.codetabs.com/v1/proxy?quest=https://listenapi.planetradio.co.uk/api9.2/initdadi/absolute-classic-rock';
                (async () => {
                const response = await fetch(url);
                const body = await response.json();
                const nowPlaying = body.stationNowPlaying;
                const { nowPlayingTrack , nowPlayingArtist, nowPlayingSmallImage, nowPlayingDuration } = nowPlaying;
                const player = document.querySelector("#absolutePlayer");
                player.classList.remove('hidden');
                player.classList.add('show');
                console.log( { nowPlayingTrack , nowPlayingArtist, nowPlayingSmallImage, nowPlayingDuration } );
                const playerThumb = document.querySelector("#playerThumb");
                playerThumb.src = nowPlayingSmallImage;
                playerThumb.alt = nowPlayingArtist;

                const playerAuthor = document.querySelector("#playerAuthor");
                playerAuthor.innerHTML = nowPlayingArtist;

                const playerMusic = document.querySelector("#playerMusic");
                playerMusic.innerHTML = nowPlayingTrack;
                timeToGetAnotherMeta = nowPlayingDuration;

                if ( timeToGetAnotherMeta != 0) {
                    if ( playerButton.classList.contains('play')) {
                        setTimeout( () =>  getMetaData(playerButton), (timeToGetAnotherMeta/3) * 1000);
                    }
                } else {
                    if ( playerButton.classList.contains('play')) {
                        setTimeout( () =>  getMetaData(playerButton), 60000);
                    }
                }
                })()
            }
            function play_pause( buttonSel, audioSel ) {
                var audio = document.querySelector(audioSel);
                
                var absoluteButton = document.querySelector(buttonSel);
                if ( absoluteButton.classList.contains('stop')) {
                    audio.play();
                    absoluteButton.classList.remove('stop');
                    absoluteButton.classList.add('play');
                    absoluteButton.innerHTML = 'Playing...';
                    getMetaData(absoluteButton);
                } else {
                    audio.pause();
                    absoluteButton.classList.remove('play');
                    absoluteButton.classList.add('stop');
                    absoluteButton.innerHTML = 'Paused';
                    
                }


            }
            var audio = document.querySelector("#absoluteClassicRock");
            if ( audio.children[0].src.indexOf('/null') != -1 ) {
                const t = new Date().getTime();
                const url = `https://stream-ar.planetradio.co.uk/absoluteclassicrockhigh.aac?direct=true&amsparams=playerid:BMUK_ukrp;skey:${t};&aw_0_1st.skey=${t}&aw_0_req.gdpr=true`;
                audio.children[0].src = url;
            }
            absoluteButton.addEventListener('click', () => play_pause( '#absoluteButton', '#absoluteClassicRock'), false);
        </script>

	</main>

    <!-- /#contentinfo -->

<script>
    stork.initialize()
    stork.downloadIndex("sitesearch", "../../search-index.st")
    stork.attach("sitesearch")
</script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5TNTJS8"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  </body>
</html>